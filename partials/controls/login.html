<div class="login">
    <section class="order-cloud login-logo">
    	<div class="logo-banner vertical-center">
    	    <img src="http://glatfelter.prograde.com/Site/GLTWorks2/Glatfelter-Logo.png" class="img-center logo-width-ie img-responsive">
        </div>
    </section>
    <div style="height:102px;">
    	<logo-bar></logo-bar>
    </div>
    <section class="order-cloud login-center">
        <div id="login_box">
            <div id="login_form" class="animated bounceIn">
                <form class="form-signin" ng-submit="login()" ng-hide="showUserCreation" name="login_form">
                    <p class="text-center login-line1">Welcome to THE HUB</p>
                    <p class="text-center login-line2">THE HUB is your online resource center<br class="hidden-xs" />for marketing support provided by Glatfelter.</p>
                    <p id="451qa_msg_login" ng-show="loginMessage" ng-bind-html="loginMessage" class="alert alert-info glt-font"></p>
                    <div class="login-margin">
                        <div class="view-form-icon" ng-show="!showEmailHelp && !PasswordReset">
                            <div>
                                <label style="color:white;" ng-show="credentials.Username">{{'Username' | r}}</label>
                                <input autofocus ng-required="buttonText == 'Logon'" class="form-control" type="text" ng-model="credentials.Username" placeholder="{{'Username' | r}}" />
                                <i class="fa fa-user"></i>
                            </div>
                            <div ng-show="!PasswordSecurityException">
                                <label style="color:white;" ng-show="credentials.Password">{{'Password' | r}}</label>
                                <input class="form-control" ng-required="buttonText == 'Logon'" type="password" ng-model="credentials.Password" placeholder="{{'Password' | r}}" />
                                <i class="fa fa-lock"></i>
                            </div>
                        </div>
                        <div>
                            <p class="alert alert-info" ng-show="showEmailHelp && (!EmailNotFoundException || !PasswordSecurityException)">
                                If you would like to be reminded of your {{'Username' | r}} or have the option to reset your {{'Password' | r}}, please provide your email address and your log on information will be emailed to you immediately.
                            </p>
                            <btn class="btn btn-info btn-block" ng-show="!showEmailHelp && !PasswordReset && !EmailNotFoundException && !PasswordSecurityException" ng-click="showEmailHelp = !showEmailHelp; buttonText = 'Submit'">
                                Need help logging on?<br />First time user?
                            </btn>
                            <div class="view-form-icon" ng-show="showEmailHelp">
                                <div>
                                    <label style="color:white;" ng-show="credentials.Email">{{'Email' | r}}</label>
                                    <input class="form-control" type="email" ng-model="credentials.Email" placeholder="{{'Email' | r}}" />
                                    <i class="fa fa-envelope"></i>
                                </div>
                            </div>
                            <btn class="btn btn-info btn-block" ng-show="showEmailHelp" ng-click="showEmailHelp = !showEmailHelp; buttonText = 'Logon'">
                                Return to logon
                            </btn>
                        </div>
                        <div>
                            <div class="view-form-icon" ng-show="PasswordSecurityException">
                                <div>
                                    <label ng-show="credentials.CurrentPassword">Current {{'Password' | r}}</label>
                                    <input class="form-control" name="current_password" type="password" ng-model="credentials.CurrentPassword" placeholder="Current {{'Password' | r}}" />
                                    <i class="fa fa-lock"></i>
                                </div>
                                <div>
                                    <label ng-show="credentials.NewPassword">New {{'Password' | r}}</label>
                                    <input class="form-control" name="new_password" type="password" ng-model="credentials.NewPassword" placeholder="New {{'Password' | r}}" />
                                    <i class="fa fa-lock"></i>
                                </div>
                                <div>
                                    <label ng-show="credentials.ConfirmPassword">Confirm {{'Password' | r}}</label>
                                    <input class="form-control" name="confirm_password" type="password" ng-model="credentials.ConfirmPassword"  placeholder="Confirm {{'Password' | r}}" ng-match="credentials.NewPassword" />
                                    <i class="fa fa-lock"></i>
                                    <inlineerror ng-show="login_form.confirm_password.$error.match" title="{{'Password' | r}} do not match!" />
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="view-form-icon" ng-show="PasswordReset">
                                <div>
                                    <label ng-show="credentials.NewPassword">New {{'Password' | r}}</label>
                                    <input class="form-control" ng-required="PasswordReset" name="new_password" type="password" ng-model="credentials.NewPassword" placeholder="New {{'Password' | r}}" />
                                    <i class="fa fa-lock"></i>
                                </div>
                                <div>
                                    <label ng-show="credentials.ConfirmPassword">Confirm {{'Password' | r}}</label>
                                    <input class="form-control" ng-required="PasswordReset" name="confirm_password" type="password" ng-model="credentials.ConfirmPassword"  placeholder="Confirm {{'Password' | r}}" ng-match="credentials.NewPassword" />
                                    <i class="fa fa-lock"></i>
                                    <inlineerror ng-show="login_form.confirm_password.$error.match" title="{{'Password' | r}} do not match!" />
                                </div>
                            </div>
                        </div>
                        <input ng-disabled="login_form.$invalid" class="btn btn-large btn-primary btn-block" id="451_btn_login" type="submit" value="{{buttonText}}" />
                        <btn class="btn btn-info btn-block" ng-show="!showUserCreation" ng-click="showUserCreation = !showUserCreation;">
                            Not yet registered? Click here
                        </btn>
                    </div>
                </form>
				<form class="form-signin" ng-show="showUserCreation" name="user_form" ng-submit="save()">
                    <p class="text-center login-line1">Welcome to The Hub</p>
                    <p class="text-center login-line2">THE HUB is your online resource center<br class="hidden-xs" />for marketing support provided by Glatfelter.</p>
                    <div class="view-form-icon">
			        <div class="row">
                    	<div class="col-xs-6">
			        		<label>{{('First' | r) + ' ' + ('Name' | r) | xlat}}</label>
			        		<input name="firstname" class="form-control" type="text" required ng-model="user.FirstName" placeholder="{{('First' | r) + ' ' + ('Name' | r) | xlat}}" autocomplete="off" />
                        </div>
			        	<div class="col-xs-6">
				        	<label>{{('Last' | r) + ' ' + ('Name' | r) | xlat}}</label>
				            <input name="lastname" required class="form-control" type="text" ng-model="user.LastName" placeholder="{{('Last' | r) + ' ' + ('Name' | r) | xlat}}" autocomplete="off" />
				        </div>
			        </div>
			        <div class="row">
                    	<div class="col-xs-12">
			        		<label>{{'Phone' | r | xlat}}</label>
			            	<input name="phone" class="form-control" type="text" ng-model="user.Phone" ui-mask="(999) 999-9999" autocomplete="off" />
                        </div>
			        </div>
			        <div class="row">
                    	<div class="col-xs-12">
			        		<label class="required">{{'Email' | r | xlat}}</label>
			            	<input name="email" class="form-control" type="email" ng-model="user.Email" required placeholder="{{'Email' | r | xlat}}" autocomplete="off" />
			            	<inlineerror ng-show="user_form.email.$invalid" title="{{'Please enter a valid' + ' ' +  ('Email' | rl) + ' ' + ('Address' | rl) | xlat}}" />
                        </div>
			        </div>
			        <div class="row">
                    	<div class="col-xs-12">
			        		<label class="required">{{'Username' | r | xlat}}</label>
			            	<input name="username" class="form-control" type="text" ng-model="user.TempUsername" required placeholder="{{'Username' | r | xlat}}" autocomplete="off" />
                        </div>
			        </div>
			        <!--TODO username input shouldn't default to temporary usernames, if the user is temp, make the placeholder show instead !-->
			        <div class="row">
                    	<div class="col-xs-6">
			        		<label>{{'Password' | r | xlat}}</label>
			            	<input name="password" class="form-control" ng-required="user.Type == 'TempCustomer'" type="password" ng-model="user.Password" placeholder="{{'Password' | r | xlat}}" autocomplete="off" />
                        </div>
			        	<div class="col-xs-6">
			        		<label>{{('Confirm' | r) + ' ' + ('Password' | r) | xlat}}</label>
			            	<input name="confirm_password" ng-match="user.Password" ng-required="user.Type == 'TempCustomer' || user.Password" class="form-control" type="password" ng-model="user.ConfirmPassword" placeholder="{{('Confirm' | r) + ' ' + ('Password' | r) | xlat}}" autocomplete="off" />
			            	<inlineerror ng-show="user_form.confirm_password.$error.match" title="{{('Password' | r) + 's do not match!' | xlat}}" />
			       		</div>
			        </div>
                    </div>
			        <span class="alert-warning" ng-show="securityWarning">
		            	<ul>
			            	<li>{{'Your password does not meet the requirements set for length or complexity. It must be changed to meet the minimum requirements before continuing.' | xlat}}</li>
			                <li>{{'There are three distinct password security levels. The rules are defined as:' | xlat}}</li>
			            	<ul>
			            		<li>{{'Low: No restrictions on passwords.' | xlat}}</li>
				                <li>{{'Medium: A minimum of 6 characters required.' | xlat}}</li>
			                    <li>{{'High:' | xlat}}</li>
			                	<ul>
				                	<li>{{'Minimum of 8 alphanumeric characters.' | xlat}}</li>
				                	<li>{{'Two or more of the following kinds of characters' | xlat}}</li>
				                	<ol>
				                		<li>{{'Alphabetic (e.g., a-z, A-Z)' | xlat}}</li>
			    	                	<li>{{'Numeric (i.e. 0-9)' | xlat}}</li>
			        	            	<li>{{'Punctuation and other characters (e.g.,' | xlat}} !@#$%^&*()_+|~-=\`{}[]:";'<>?,./)</li>
			            	    	</ol>
			                		<li>{{'** After 6 failed logon attempts, the user will be locked out for 30 minutes.' | xlat}}</li>
			                	</ul>
			            	</ul>
			            </ul>
			        </span>
			    	<div  ng-if="user.CustomFields" class="view-form-icon">
				    	<div ng-repeat="field in user.CustomFields">
				        	<customfilefield customfield="field" ng-if="field.ControlType == 'File' && field.DisplayToUser"></customfilefield>
				            <customtextfield customfield="field" ng-if="field.ControlType == 'Text' && field.DisplayToUser"></customtextfield>
				            <customselectionfield customfield="field" ng-if="field.ControlType == 'Selection' && field.DisplayToUser"></customselectionfield>
				        </div>
				    </div>
                    <div class="row">
					    <input class="btn btn-large btn-primary btn-block" type="submit" ng-disabled="user_form.$invalid" id="451_btn_user" value="Create Account" />
					    <p class="alert alert-success" ng-show="actionMessage && actionMessage != 'Your changes have been saved'" ng-bind-html="actionMessage | r | xlat"></p>
                    </div>
                    <btn class="btn btn-info btn-block" ng-click="showUserCreation = !showUserCreation;">
                        Return to logon
                    </btn>
				</form>
            </div>
        </div>
    </section>
</div>
